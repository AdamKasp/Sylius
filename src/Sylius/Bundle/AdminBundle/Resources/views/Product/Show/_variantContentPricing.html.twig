{% import "@SyliusAdmin/Common/Macro/money.html.twig" as money %}

{% if channelPricings is defined %}
    {% include '@SyliusAdmin/Product/Show/_pricing.html.twig' with {'channelPricings': channelPricings} only %}
{% else %}
    {% deprecated 'The "_variantContent.html.twig" template is deprecated since Sylius 1.7 and will be romove in Sylius 2.0, use "_pricing.html.twig instead"' %}
    <h4 class="ui top attached large header">{{ 'sylius.ui.pricing'|trans }}</h4>
    <div class="ui attached segment">
        <table class="ui very basic celled table">
            <tbody>
                <tr>
                    <td class="gray text"><strong>{{ 'sylius.ui.channels'|trans }}</strong></td>
                    <td class="gray text"><strong>{{ 'sylius.ui.price'|trans }}</strong></td>
                    <td class="gray text"><strong>{{ 'sylius.ui.original_price'|trans }}</strong></td>
                </tr>
                    {% set currencies = sylius_channels_currencies() %}
                    {% for channelPricing in variant.channelPricings %}
                        {% set channel = channelPricing.channelCode|sylius_channel %}
                        <tr class="pricing">
                            <td>{{ channel.name }}</td>
                            <td>{{ money.format(channelPricing.price, currencies[channel.code]) }}</td>
                            <td>
                                {% if channelPricing.originalPrice != null %}
                                    {{ money.format(channelPricing.originalPrice, currencies[channel.code]) }}
                                {% else %}
                                    <span class="gray text">-</span>
                                {% endif %}
                            </td>
                        </tr>
                    {% endfor %}
            </tbody>
        </table>
    </div>
{% endif %}
